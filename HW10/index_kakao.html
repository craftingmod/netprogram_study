<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Kakao Login test</title>
  <link rel="icon" href="favicon.svg">
  <style>
    .invisible {
      display: none;
    }
  </style>
</head>
<body>
  <a id="link_btn" class="invisible">
    <img src="http://t1.daumcdn.net/friends/prod/editor/dc8b3d02-a15a-4afa-a88b-989cf2a50476.jpg" width="300">
  </a>
  <script>
    async function run() {
      const btn = document.getElementById("link_btn");
      const key = (await (await fetch("/key")).json())["key"]
      btn.setAttribute("href", `https://kauth.kakao.com/oauth/authorize?client_id=${key}&redirect_uri=http://localhost:8888/oauth&response_type=code`)
      btn.classList.remove("invisible")
    }
    run()
  </script>
</body>
</html>